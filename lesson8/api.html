<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Pokemon API</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    .center {
      margin-right: auto;
      margin-left: auto;
    }

    article {
      display: flex;
      flex-flow: row wrap;
    }

    section {
      flex: 1;
      border: 2px groove black;
      max-width: 250px;
      padding: 20px;
      text-align: center;
    }
  </style>
</head>

<body>
  <h1>Pokemon API</h1>
  <p>Select the button to see the next 20 Pokemon&nbsp;<button id="sub" type="button">Next 20</button></p>
  <p>You are viewing Pokemon #<input id="counter" type="text" value="1" readonly></p>
  <hr>
  <article id="display"></article>

  <script>
    let offset = 0;
    const limit = 20; 

    function fetchPokemons() {
      fetch(`https://pokeapi.co/api/v2/pokemon?offset=${offset}&limit=${limit}`)
        .then(response => response.json())
        .then(data => {
          const pokemons = data.results;
          const displayArea = document.getElementById('display');
          displayArea.innerHTML = ''; 
          pokemons.forEach((pokemon, index) => {
            fetch(pokemon.url)
              .then(response => response.json())
              .then(pokemonData => {
                const pokemonElement = document.createElement('section');
                pokemonElement.innerHTML = `
                  <h2>${pokemonData.name}</h2>
                  <img src="${pokemonData.sprites.front_default}" alt="${pokemonData.name}" />
                `;
                displayArea.appendChild(pokemonElement);
              });
          });

       
          document.getElementById('counter').value = offset + 1;
        })
        .catch(error => console.error('Error fetching PokÃ©mon data:', error));
    }

    document.getElementById('sub').addEventListener('click', () => {
      offset += limit; 
      fetchPokemons();
    });

   
    fetchPokemons();
  </script>
</body>

</html>
